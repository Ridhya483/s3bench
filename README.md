[![Codacy Badge](https://api.codacy.com/project/badge/Grade/f0def607de884e2098570eae7b3f3e5e)](https://app.codacy.com/gh/Seagate/s3bench?utm_source=github.com&utm_medium=referral&utm_content=Seagate/s3bench&utm_campaign=Badge_Grade_Settings) [![License](https://img.shields.io/badge/License-MIT-blue.svg)](https://github.com/Seagate/s3bench/blob/main/LICENSE) [![Slack](https://img.shields.io/badge/chat-on%20Slack-blue")](https://join.slack.com/t/cortxcommunity/shared_invite/zt-femhm3zm-yiCs5V9NBxh89a_709FFXQ?) [![YouTube](https://img.shields.io/badge/Video-YouTube-red)](https://cortx.link/videos)



**Works only on machines having the DAOS/CEPH deployment and not a client s3bench machine**


# Prerequisites 
Install s3bench on your machine. Check https://github.com/Seagate/s3bench for the steps.
Add S3BENCH_PATH to ~/.bashrc


# How to use 
Clone this branch of the repo 

```
git clone https://github.com/Ridhya483/s3bench.git -b s3bench-script
```

Use ```s3bench-script``` is using on the node and ```s3bench-client-script``` if using on a client machine.

Add ```ACCESS_KEY``` ```SECRET_KEY``` and ```ENDPOINT``` of the host machine (Only if using s3bench-client-script)

Change the ```OBJ_SIZE``` , ```SAMPLES``` , ```CLIENTS``` and ```LOOP_COUNT``` accordingly (```SAMPLES[I]```>```CLIENTS[I]```)

Change file permissions 
```
chmod 777 s3iotest.sh
```
Run the script.

After the script is executed , the following directories are created


|        **Path**        |       **Description**       |
|:----------------------:|:---------------------------:|
| /perf-reports  |     Performance logs        |
| /s3bench-*.log |  logs generated by s3bench  |
| /perf-reports/new-perf.csv | perf logs in csv |

**new-perf.csv gets overwritten each time the script is run**



